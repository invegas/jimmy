<!DOCTYPE html>
<html>
<head>
	<title></title>
	<script type="text/javascript" src="js/jquery-1.9.1.min.js"></script>
	<script type="text/javascript" src="js/snow.js"></script>
	<script type="text/javascript" src="js/bootstrap-button.js"></script>
	<script type="text/javascript" src="js/parallax.js"></script>
	<link rel="stylesheet" type="text/css" href="css/bootstrap.css">
	<style type="text/css">
		/*Simple reset*/
		* {margin: 0; padding: 0;}
		body {
			/*You can use any kind of background here.*/
			background: #6b92b9;
			position: relative;
			overflow-y: hidden;
		}
		canvas {
			position: fixed;
			left: 0;
			top: 0;
			display: block;
		}

		.is-animate {
			-webkit-transition:all 1000ms cubic-bezier(0.26, 0.86, 0.44, 0.985) 0s; 
		}
		.ground {
			/*background: url("css/images/texture.jpg") repeat;*/
			background: white;
			height: 50px;
			position: fixed;
			bottom: 0;
			width: 100%;
		}
		.person {
			position: fixed;
			bottom: 45px;
			width: 100px;
			z-index: -1;
		}
		.face {
			position: absolute;
			width: 100px;
			left: 0;
			bottom: 0;
		}
		.bg {
			width: 7000px;
			height: 100%;
		}
		.bg-item {
			width: 1000px;
			height: 100%;
			position: absolute;
			z-index: -2;
			background-repeat: no-repeat;	
		}
		.bg-img {
			position: absolute;
			left: 0;
		}
		.panel-control {
			position: fixed;
			top: 10px;
			left: 300px;
			/*width: 280px;*/
			width: 130px;
		}
		.panel-row {
			margin-bottom: 15px;
		}
		.speech {
			opacity: 0;
			background: white;
			position: absolute;
			width: 200px;
			height: 100px;
			border-radius: 10px;
			top: -250px;
			left: -180px;
			   	
		}
		.speech-content {
			padding: 20px 10px;
		}
		.is-say {
			opacity: 1;
			top: -250px;
		}
		.speech:after {
			content: '';
			height: 0;
			position: absolute;
			bottom: -20px;
			left: 155px;
			border: 10px solid;
			border-color: white transparent transparent;
		}
	</style>
	<script type="text/javascript">

		$(function () {
			$('.bg-item').each(function (index, el) {

				// init color
				// var color = $(this).attr('data-color');
				// $(this).css('background-color', '#' + color);

				// init index
				var index = $(this).attr('data-index');
				$(this).css('left', (index - 1) * 1000 + "px");

				// img
				// $(this).css({
				// 	'background-image': 'url("css/images/bg/00' + index + '.jpg")',
				// 	'background-position': '0px 50%'
				// })

			})

			

			var config = {
				win: $(window),
				person: $('.person'),
				total: parseInt($('.bg').css('width'))
			}

			Parallax.init(config);

			Snow.init('canvas');

			// 上帝模式
			$('.btn-god').click(function () {
				var swh = $(this).attr('data-switch');
				if (swh === "off") {
					$(this).attr('data-switch', 'on');
					$(this).text('关闭上帝模式');
					$('.panel-control').css('width', '280px');

				} else {
					$(this).attr('data-switch', 'off');
					$(this).text('开启上帝模式');
					$('.panel-control').css('width', '130px');
				}
				$('.panel-control .modal-body').toggle();
			})

			// 风俗
			$('.btn-group-speed .btn').click(function () {
				var val = parseInt($(this).attr('data-value'));
				Snow.setSpeed(val);
			})

			// 雪的大小
			$('.btn-group-mp .btn').click(function () {
				var val = parseInt($(this).attr('data-value'));
				Snow.setMP(val);
			})

			// 雪的重量
			$('.btn-group-weight .btn').click(function () {
				var val = parseInt($(this).attr('data-value'));
				Snow.setWeight(val);
			})
		})
	</script>
</head>
<body class="is-animate">
	<div class="bg">
		<div class="bg-1 bg-item" data-color="04f91d" data-index="1"></div>
		<div class="bg-2 bg-item" data-color="0048ff" data-index="2"></div>
		<div class="bg-3 bg-item" data-color="ff0015" data-index="3"></div>
		<div class="bg-4 bg-item" data-color="00e9ff" data-index="4"></div>
		<div class="bg-5 bg-item" data-color="04f91d" data-index="5"></div>
		<div class="bg-6 bg-item" data-color="0048ff" data-index="6"></div>
		<div class="bg-7 bg-item" data-color="ff0015" data-index="7"></div>
	</div>
	<canvas id="canvas"></canvas>
	<div class="ground"></div>
	<div class="person">
		<img src="css/images/jimmy.png" class="face">
		<div class="speech">
			<div class="speech-content"></div>
		</div>
	</div>
	<div class="panel-control modal">
		<div class="modal-header">
			<button class="btn btn-god btn-small" data-switch="off">开启上帝模式</button>
		</div>
		<div class="modal-body hide">
			<div class="panel-row">
				<div class="btn-group btn-group-speed" data-toggle="buttons-radio">
				 	<button type="button" class="btn" data-value="0">无风</button>
				  	<button type="button" class="btn active" data-value="3">微风</button>
				  	<button type="button" class="btn" data-value="10">大风</button>
				  	<button type="button" class="btn btn-danger" data-value="30">被吹走了</button>
				</div>
			</div>
			<div class="panel-row">
				<div class="btn-group btn-group-mp" data-toggle="buttons-radio">
				 	<button type="button" class="btn" data-value="0">学停了</button>
				  	<button type="button" class="btn active" data-value="30">小雪</button>
				  	<button type="button" class="btn" data-value="100">大雪</button>
				  	<button type="button" class="btn btn-danger" data-value="500">暴风雪</button>
				</div>
			</div>			
			<div class="panel-row">
				<div class="btn-group btn-group-weight" data-toggle="buttons-radio">
				 	<button type="button" class="btn" data-value="-5">文艺雪</button>
				  	<button type="button" class="btn active" data-value="1">普通雪</button>
				  	<button type="button" class="btn btn-danger" data-value="10">冰雹</button>
				</div>
			</div>			
		</div>
	</div>
</body>
</html>